{"ast":null,"code":"var _jsxFileName = \"/home/fateme/Documents/projects/yadet2/src/layout/lessonLayout/lessonLayout.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { Container, ProgressBar, Col, Row } from \"react-bootstrap\";\nimport CheckCorrect from \"../../components/checkCorrect/checkCorrect\";\nimport Lesson from \"../../pages/lesson/lesson\";\nimport { BrowserRouter as Router, Link, useHistory } from 'react-router-dom';\nimport { useParams } from 'react-router-dom';\nimport cross from './../../assets/images/cross.png';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { loadQuestions, selectQuestions } from '../../features/questions/questions.slice';\nimport './lessonLayout.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LessonLayout(props) {\n  _s();\n\n  const [questionQueue, setQuestionQueue] = useState(0);\n  let questions = [];\n  questions = useSelector(selectQuestions);\n  let dispatch = useDispatch();\n  const {\n    step\n  } = useParams();\n  useEffect(() => {\n    dispatch(loadQuestions(step));\n    let initialQuestionQueue = [];\n\n    if (questions.length && questions.length !== 0) {\n      for (let i = 0; i < questions.length; i++) {\n        initialQuestionQueue[i] = i;\n      }\n\n      setQuestionQueue(initialQuestionQueue);\n    }\n  }, []);\n  const currentQuestion = questions.slice(questionQueue[questionCounter], questionQueue[questionCounter] + 1);\n  let currentCorrectAnswer = 0;\n  currentQuestion.map(question => {\n    currentCorrectAnswer = question.Anwser;\n    setCorrectAnswer(currentCorrectAnswer);\n  });\n  const [questionCounter, setQuestionCounter] = useState(0);\n  const [progress, setProgress] = useState(0);\n  const [varient, setVarient] = useState(\"secondary\");\n  const [userAnswer, setUserAnswer] = useState(0);\n  const [correctAnswer, setCorrectAnswer] = useState(0);\n  const [status, setStatus] = useState(\"check\");\n  const [Continue, setContinue] = useState(false);\n  const [optionClicked, setOptionClicked] = useState(0);\n  const progressProgress = 100 / questions.length;\n  const history = useHistory();\n\n  const handleCheckClick = () => {\n    setContinue(true);\n    setVarient(() => userAnswer === 1 ? \"success\" : userAnswer === -1 ? \"danger\" : \"secondary\");\n    setStatus(() => userAnswer === 1 ? \"success\" : userAnswer === -1 ? \"fail\" : null);\n    setProgress(progress + (userAnswer === 1 ? progressProgress : 0));\n\n    if (optionClicked !== correctAnswer) {\n      setQuestionQueue([...questionQueue, questionQueue[questionCounter]]);\n    }\n  };\n\n  const handleContinueClick = () => {\n    setContinue(false);\n    setOptionClicked(0);\n    setQuestionCounter(() => questionCounter + 1 < questionQueue.length ? questionCounter + 1 : progress === 100 ? history.push('/endLessonStep/' + step) : null);\n    setVarient(\"secondary\");\n    setStatus(\"check\");\n  };\n\n  const handleCrossClick = () => {\n    history.push('/');\n  };\n\n  const onClick = i => {\n    setOptionClicked(i);\n    setVarient(\"primary\");\n\n    if (i === correctAnswer) {\n      setUserAnswer(1);\n    } else {\n      setUserAnswer(-1);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: questions.map((qq, key) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: qq.options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 9\n  }, this);\n} // import React, { useState, useEffect, useCallback } from \"react\";\n// import { Container, ProgressBar, Col, Row } from \"react-bootstrap\";\n// import CheckCorrect from \"../../components/checkCorrect/checkCorrect\";\n// import Lesson from \"../../pages/lesson/lesson\";\n// import {\n//     BrowserRouter as Router, Link, useHistory\n// } from 'react-router-dom';\n// import { useParams } from 'react-router-dom';\n// import cross from './../../assets/images/cross.png';\n// import { useSelector, useDispatch } from 'react-redux';\n// import { loadQuestions, selectQuestions } from '../../features/questions/questions.slice';\n// import './lessonLayout.css';\n// export default function LessonLayout(props) {\n//     //questions should be asked from data base. step is for the lesson and the degree and the progress \n//     const { step } = useParams();\n//     const [q, setQ] = useState([]);\n//     const [questionQueue, setQuestionQueue] = useState(0);\n//     const currentQuestion =\n//         questions.slice(questionQueue[questionCounter], questionQueue[questionCounter] + 1)\n//     let currentCorrectAnswer = 0;\n//     currentQuestion.map((question) => {\n//         currentCorrectAnswer = question.Anwser;\n//         setCorrectAnswer(currentCorrectAnswer);\n//     })\n//     return (\n//         <div className='mainLesson'>\n//             <Row\n//                 className='mainProgressBar'\n//             >\n//                 {progress !== 100 ?\n//                     <Col sm={1} xs={1}\n//                         className='crossCol'\n//                     >\n//                         <img style={{ width: 20 }} src={cross} alt=\"cross\"\n//                             onClick={handleCrossClick} />\n//                     </Col> :\n//                     ''}\n//                 <Col sm={progress != 100 ? 11 : 12} xs={progress != 100 ? 11 : 12}\n//                     style={{ justifyContent: 'center', alignItems: 'center' }}\n//                 >\n//                     <ProgressBar now={progress}\n//                         className={progress !== 100 ? 'progressBar' : 'progressBarNoCross'}\n//                     /></Col>\n//             </Row>\n//             {\n//                 currentQuestion.map((question, key) => {\n//                     return (\n//                         <Container className='mainQuestion' key={key}>\n//                             <Lesson onClick={(i) => onClick(i)}\n//                                 question={question.Question}\n//                                 options={question.Options}\n//                                 correct={currentCorrectAnswer}\n//                                 status={status}\n//                                 optionClicked={optionClicked}\n//                                 Continue={Continue}\n//                             />\n//                         </Container>\n//                     )\n//                 })\n//             }\n//             <CheckCorrect className='mainCheckCorrect'\n//                 onClick={handleCheckClick}\n//                 onContinueClick={handleContinueClick}\n//                 varient={varient}\n//                 status={status}\n//                 Continue={Continue}\n//                 optionClicked={optionClicked}\n//             />\n//         </div>\n//     )\n// }\n\n_s(LessonLayout, \"QSoUcPN4kBue1RXA0zlNg08JhBM=\", false, function () {\n  return [useSelector, useDispatch, useParams, useHistory];\n});\n\n_c = LessonLayout;\n\nvar _c;\n\n$RefreshReg$(_c, \"LessonLayout\");","map":{"version":3,"sources":["/home/fateme/Documents/projects/yadet2/src/layout/lessonLayout/lessonLayout.js"],"names":["React","useState","useEffect","useCallback","Container","ProgressBar","Col","Row","CheckCorrect","Lesson","BrowserRouter","Router","Link","useHistory","useParams","cross","useSelector","useDispatch","loadQuestions","selectQuestions","LessonLayout","props","questionQueue","setQuestionQueue","questions","dispatch","step","initialQuestionQueue","length","i","currentQuestion","slice","questionCounter","currentCorrectAnswer","map","question","Anwser","setCorrectAnswer","setQuestionCounter","progress","setProgress","varient","setVarient","userAnswer","setUserAnswer","correctAnswer","status","setStatus","Continue","setContinue","optionClicked","setOptionClicked","progressProgress","history","handleCheckClick","handleContinueClick","push","handleCrossClick","onClick","qq","key","options"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { Container, ProgressBar, Col, Row } from \"react-bootstrap\";\nimport CheckCorrect from \"../../components/checkCorrect/checkCorrect\";\nimport Lesson from \"../../pages/lesson/lesson\";\nimport {\n    BrowserRouter as Router, Link, useHistory\n} from 'react-router-dom';\nimport { useParams } from 'react-router-dom';\nimport cross from './../../assets/images/cross.png';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { loadQuestions, selectQuestions } from '../../features/questions/questions.slice';\nimport './lessonLayout.css';\n\nexport default function LessonLayout(props) {\n\n    const [questionQueue, setQuestionQueue] = useState(0);\n    let questions = []\n    questions = useSelector(selectQuestions)\n    let dispatch = useDispatch()\n    const { step } = useParams();\n\n    useEffect(() => {\n        dispatch(loadQuestions(step));\n        let initialQuestionQueue = [];\n        if (questions.length && questions.length !== 0) {\n            for (let i = 0; i < questions.length; i++) {\n                initialQuestionQueue[i] = i\n            }\n            setQuestionQueue(initialQuestionQueue)\n        }\n\n    }, [])\n\n    const currentQuestion =\n        questions.slice(questionQueue[questionCounter], questionQueue[questionCounter] + 1)\n    let currentCorrectAnswer = 0;\n    currentQuestion.map((question) => {\n        currentCorrectAnswer = question.Anwser;\n        setCorrectAnswer(currentCorrectAnswer);\n\n    })\n\n    const [questionCounter, setQuestionCounter] = useState(0);\n    const [progress, setProgress] = useState(0);\n    const [varient, setVarient] = useState(\"secondary\");\n    const [userAnswer, setUserAnswer] = useState(0);\n    const [correctAnswer, setCorrectAnswer] = useState(0);\n    const [status, setStatus] = useState(\"check\");\n    const [Continue, setContinue] = useState(false);\n\n    const [optionClicked, setOptionClicked] = useState(0);\n\n\n    const progressProgress = 100 / questions.length;\n    const history = useHistory()\n\n    const handleCheckClick = () => {\n        setContinue(true)\n        setVarient(() => (\n            userAnswer === 1 ? \"success\" :\n                (userAnswer === -1 ? \"danger\" :\n                    (\"secondary\"))\n        ))\n        setStatus(() => (\n            userAnswer === 1 ? \"success\" :\n                (userAnswer === -1 ? \"fail\" : null)\n        ))\n        setProgress(progress + (userAnswer === 1 ? progressProgress : 0));\n\n        if (optionClicked !== correctAnswer) {\n            setQuestionQueue([...questionQueue, questionQueue[questionCounter]]);\n        }\n    }\n    const handleContinueClick = () => {\n        setContinue(false)\n        setOptionClicked(0)\n        setQuestionCounter(() => (\n            questionCounter + 1 < questionQueue.length ? questionCounter + 1 :\n                (progress === 100 ?\n                    history.push('/endLessonStep/' + step)\n                    : null)\n\n        ))\n        setVarient(\"secondary\")\n        setStatus(\"check\")\n    }\n    const handleCrossClick = () => {\n        history.push('/')\n    }\n    const onClick = (i) => {\n        setOptionClicked(i)\n        setVarient(\"primary\")\n        if (i === correctAnswer) {\n            setUserAnswer(1)\n        } else {\n            setUserAnswer(-1);\n        }\n    }\n\n    return (\n\n        < div >\n\n            {\n\n                questions.map((qq, key) => {\n                    return (\n                        <div>\n                            {qq.options}\n                        </div>\n                    )\n                })\n            }\n        </div >\n\n    )\n}\n\n// import React, { useState, useEffect, useCallback } from \"react\";\n// import { Container, ProgressBar, Col, Row } from \"react-bootstrap\";\n// import CheckCorrect from \"../../components/checkCorrect/checkCorrect\";\n// import Lesson from \"../../pages/lesson/lesson\";\n// import {\n//     BrowserRouter as Router, Link, useHistory\n// } from 'react-router-dom';\n// import { useParams } from 'react-router-dom';\n// import cross from './../../assets/images/cross.png';\n// import { useSelector, useDispatch } from 'react-redux';\n// import { loadQuestions, selectQuestions } from '../../features/questions/questions.slice';\n// import './lessonLayout.css';\n\n// export default function LessonLayout(props) {\n//     //questions should be asked from data base. step is for the lesson and the degree and the progress \n\n//     const { step } = useParams();\n//     const [q, setQ] = useState([]);\n//     const [questionQueue, setQuestionQueue] = useState(0);\n\n\n\n//     const currentQuestion =\n//         questions.slice(questionQueue[questionCounter], questionQueue[questionCounter] + 1)\n//     let currentCorrectAnswer = 0;\n//     currentQuestion.map((question) => {\n\n//         currentCorrectAnswer = question.Anwser;\n//         setCorrectAnswer(currentCorrectAnswer);\n\n//     })\n\n//     return (\n//         <div className='mainLesson'>\n//             <Row\n//                 className='mainProgressBar'\n//             >\n//                 {progress !== 100 ?\n//                     <Col sm={1} xs={1}\n//                         className='crossCol'\n//                     >\n//                         <img style={{ width: 20 }} src={cross} alt=\"cross\"\n//                             onClick={handleCrossClick} />\n//                     </Col> :\n//                     ''}\n//                 <Col sm={progress != 100 ? 11 : 12} xs={progress != 100 ? 11 : 12}\n//                     style={{ justifyContent: 'center', alignItems: 'center' }}\n//                 >\n//                     <ProgressBar now={progress}\n//                         className={progress !== 100 ? 'progressBar' : 'progressBarNoCross'}\n//                     /></Col>\n//             </Row>\n//             {\n//                 currentQuestion.map((question, key) => {\n//                     return (\n//                         <Container className='mainQuestion' key={key}>\n//                             <Lesson onClick={(i) => onClick(i)}\n//                                 question={question.Question}\n//                                 options={question.Options}\n//                                 correct={currentCorrectAnswer}\n//                                 status={status}\n//                                 optionClicked={optionClicked}\n//                                 Continue={Continue}\n//                             />\n//                         </Container>\n//                     )\n//                 })\n//             }\n//             <CheckCorrect className='mainCheckCorrect'\n//                 onClick={handleCheckClick}\n//                 onContinueClick={handleContinueClick}\n//                 varient={varient}\n//                 status={status}\n//                 Continue={Continue}\n//                 optionClicked={optionClicked}\n//             />\n//         </div>\n//     )\n// }"]},"metadata":{},"sourceType":"module"}