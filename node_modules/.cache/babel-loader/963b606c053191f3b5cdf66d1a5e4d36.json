{"ast":null,"code":"var _jsxFileName = \"/home/fateme/Documents/projects/yadet2/src/layout/lessonLayout/lessonLayout.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { Container, ProgressBar, Col, Row } from \"react-bootstrap\";\nimport CheckCorrect from \"../../components/checkCorrect/checkCorrect\";\nimport Lesson from \"../../pages/lesson/lesson\";\nimport { BrowserRouter as Router, Link, useHistory } from 'react-router-dom';\nimport { useParams } from 'react-router-dom';\nimport cross from './../../assets/images/cross.png';\nimport './lessonLayout.css';\nimport { getDefaultNormalizer } from \"@testing-library/dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LessonLayout(props) {\n  _s();\n\n  //questions should be asked from data base. step is for the lesson and the degree and the progress \n  const {\n    step\n  } = useParams();\n  const questions = [{\n    Question: 'this is the first question',\n    Options: ['option1', 'option2', 'option3', 'option4'],\n    Answer: 1,\n    Tip: '1 here`s why you answered wrong',\n    id: 1\n  }, {\n    Question: 'this is the second question',\n    Options: ['option1', 'option2', 'option3', 'option4'],\n    Answer: 2,\n    Tip: '2 here`s why you answered wrong',\n    id: 2\n  }, {\n    Question: 'this is the third question',\n    Options: ['option1', 'option2', 'option3', 'option4'],\n    Answer: 3,\n    Tip: '3 here`s why you answered wrong',\n    id: 3\n  }];\n  const [q, setQ] = useState([]);\n\n  for (let i = 0; i < q.length; i++) {\n    let question = {\n      Question: q[i].text,\n      Options: q[i].options,\n      Answer: q[i].anwser,\n      Tip: q[i].tip\n    };\n    questions[i] = question;\n  }\n\n  let initialQuestionQueue = [];\n\n  for (let i = 0; i < questions.length; i++) {\n    initialQuestionQueue[i] = i;\n  }\n\n  const [progress, setProgress] = useState(0);\n  const [varient, setVarient] = useState(\"secondary\");\n  const [userAnswer, setUserAnswer] = useState(0);\n  const [correctAnswer, setCorrectAnswer] = useState(0);\n  const [status, setStatus] = useState(\"check\");\n  const [Continue, setContinue] = useState(false);\n  const [questionCounter, setQuestionCounter] = useState(0);\n  const [optionClicked, setOptionClicked] = useState(0);\n  const [questionQueue, setQuestionQueue] = useState(0);\n  const [loading, setLoading] = useState(0);\n  const progressProgress = 100 / questions.length;\n  const history = useHistory();\n\n  const handleCheckClick = () => {\n    setContinue(true);\n    setVarient(() => userAnswer === 1 ? \"success\" : userAnswer === -1 ? \"danger\" : \"secondary\");\n    setStatus(() => userAnswer === 1 ? \"success\" : userAnswer === -1 ? \"fail\" : null);\n    setProgress(progress + (userAnswer === 1 ? progressProgress : 0));\n\n    if (optionClicked !== correctAnswer) {\n      setQuestionQueue([...questionQueue, questionQueue[questionCounter]]);\n    }\n  };\n\n  const handleContinueClick = () => {\n    setContinue(false);\n    setOptionClicked(0);\n    setQuestionCounter(() => questionCounter + 1 < questionQueue.length ? questionCounter + 1 : progress === 100 ? history.push('/endLessonStep/' + step) : null);\n    setVarient(\"secondary\");\n    setStatus(\"check\");\n  };\n\n  const handleCrossClick = () => {\n    history.push('/');\n  };\n\n  const onClick = i => {\n    setOptionClicked(i);\n    setVarient(\"primary\");\n\n    if (i === correctAnswer) {\n      setUserAnswer(1);\n    } else {\n      setUserAnswer(-1);\n    }\n  };\n\n  const currentQuestion = questions.slice(questionQueue[questionCounter], questionQueue[questionCounter] + 1);\n  let currentCorrectAnswer = 0;\n  currentQuestion.map(question => {\n    // console.log(\"@@@@@@@@2: \"+question.answer)\n    currentCorrectAnswer = question.Answer;\n    console.log('question.answer: ' + currentCorrectAnswer);\n  });\n\n  const getQuestions = async () => {\n    let url = 'http://localhost:1337/courses';\n\n    if (step) {\n      url += `/${step}`;\n    }\n\n    setLoading(true);\n    const res = await axios.get(url);\n    let {\n      questions\n    } = res.data.questions;\n    setLoading(false);\n    setQ(questions);\n  };\n\n  useEffect(() => {\n    getQuestions();\n    setQuestionQueue(initialQuestionQueue);\n    setCorrectAnswer(currentCorrectAnswer);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mainLesson\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"mainProgressBar\",\n      children: [progress !== 100 ? /*#__PURE__*/_jsxDEV(Col, {\n        sm: 1,\n        xs: 1,\n        className: \"crossCol\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            width: 20\n          },\n          src: cross,\n          alt: \"cross\",\n          onClick: handleCrossClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }, this) : '', /*#__PURE__*/_jsxDEV(Col, {\n        sm: progress != 100 ? 11 : 12,\n        xs: progress != 100 ? 11 : 12,\n        style: {\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(ProgressBar, {\n          now: progress,\n          className: progress !== 100 ? 'progressBar' : 'progressBarNoCross'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this), currentQuestion.map((question, key) => {\n      return /*#__PURE__*/_jsxDEV(Container, {\n        className: \"mainQuestion\",\n        children: /*#__PURE__*/_jsxDEV(Lesson, {\n          onClick: i => onClick(i),\n          question: question.Question,\n          options: question.Options,\n          correct: currentCorrectAnswer,\n          status: status,\n          optionClicked: optionClicked,\n          Continue: Continue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 29\n        }, this)\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 25\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(CheckCorrect, {\n      className: \"mainCheckCorrect\",\n      onClick: handleCheckClick,\n      onContinueClick: handleContinueClick,\n      varient: varient,\n      status: status,\n      Continue: Continue,\n      optionClicked: optionClicked\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 9\n  }, this);\n} // import React from \"react\";\n// import { Container, ProgressBar, Col, Row } from \"react-bootstrap\";\n// import CheckCorrect from \"../../components/checkCorrect/checkCorrect\";\n// import Lesson from \"../../pages/lesson/lesson\";\n// import cross from './../../assets/images/cross.png';\n// import './lessonLayout.css';\n// export default class LessonLayout extends React.Component {\n//     //questions should be asked from data base. step is for the lesson and the degree and the progress \n//     constructor(props) {\n//         super(props);\n//         this.state = {\n//             progress: 0,\n//             varient: 'secondary',\n//             userAnswer: 0,\n//             correctAnswer: 0,\n//             status: 'check',\n//             Continue: false,\n//             questionCounter: 0,\n//             optionClicked: 0,\n//             questionQueue: [],\n//             status: 0,\n//             questions: [],\n//             DataisLoaded: false,\n//             step: 0,\n//         }\n//     }\n//     componentDidMount() {\n//         const { step } = this.props.match.params;\n//         this.setState({\n//             step: step\n//         })\n//         fetch(\n//             \"http://localhost:1337/courses\" + step)\n//             .then((res) => res.json())\n//             .then((json) => {\n//                 this.setState({\n//                     questions: json.questions,\n//                     DataisLoaded: true\n//                 });\n//             });\n//         let initialQuestionQueue = [];\n//         for (let i = 0; i < this.state.questions.length; i++) {\n//             initialQuestionQueue[i] = i\n//         }\n//         this.setState({\n//             questionQueue: initialQuestionQueue\n//         })\n//     }\n//     handleCheckClick = () => {\n//         const progressProgress = 100 / this.state.questions.length;\n//         this.setState({ continue: true })\n//         this.setState({\n//             varient: this.state.userAnswer === 1 ? \"success\" :\n//                 (this.state.userAnswer === -1 ? \"danger\" :\n//                     (\"secondary\"))\n//         })\n//         this.setState({\n//             status:\n//                 this.state.userAnswer === 1 ? \"success\" :\n//                     (this.state.userAnswer === -1 ? \"fail\" : null)\n//         })\n//         this.setState({\n//             progress: this.state.progress + (this.state.userAnswer === 1 ? progressProgress : 0)\n//         })\n//         if (this.state.optionClicked !== this.state.correctAnswer) {\n//             this.setState({\n//                 questionQueue:\n//                     [...this.state.questionQueue, this.state.questionQueue[this.state.questionCounter]]\n//             })\n//         }\n//     }\n//     handleContinueClick = () => {\n//         this.setState({\n//             continue: false\n//         })\n//         this.setState({\n//             optionClicked: 0\n//         })\n//         this.setState({\n//             questionCounter:\n//                 this.state.questionCounter + 1 < this.state.questionQueue.length ? this.state.questionCounter + 1 :\n//                     (this.state.progress === 100 ?\n//                         this.props.history.push('/endLessonStep/' + this.state.step)\n//                         : null)\n//         })\n//         this.setState({\n//             varient: \"secondary\"\n//         })\n//         this.setState({\n//             status: 'check'\n//         })\n//     }\n//     handleCrossClick = () => {\n//         // this.props.history.push('/')\n//     }\n//     onClick = (i) => {\n//         this.setState({\n//             optionClicked: i\n//         })\n//         this.setState({\n//             varient: \"primary\"\n//         })\n//         if (i === this.state.correctAnswer) {\n//             this.setState({\n//                 userAnswer: 1\n//             })\n//         } else {\n//             this.setState({\n//                 userAnswer: -1\n//             })\n//         }\n//     }\n//     render() {\n//         const currentQuestion =\n//         this.state.questions.slice(this.state.questionQueue[this.state.questionCounter], this.state.questionQueue[this.state.questionCounter] + 1)\n//         let currentCorrectAnswer = 0;\n//         currentQuestion.map((question) => {\n//             currentCorrectAnswer = question.Answer\n//         })\n//         // this.setState({\n//         //     correctAnswer: currentCorrectAnswer\n//         // })\n//         return (\n//             <div className='mainLesson'>\n//                 <Row\n//                     className='mainProgressBar'\n//                 >\n//                     {this.state.progress !== 100 ?\n//                         <Col sm={1} xs={1}\n//                             className='crossCol'\n//                         >\n//                             <img style={{ width: 20 }} src={cross} alt=\"cross\"\n//                                 onClick={this.handleCrossClick()} />\n//                         </Col> :\n//                         ''}\n//                     <Col sm={this.state.progress != 100 ? 11 : 12} xs={this.state.progress != 100 ? 11 : 12}\n//                         style={{ justifyContent: 'center', alignItems: 'center' }}\n//                     >\n//                         <ProgressBar now={this.state.progress}\n//                             className={this.state.progress !== 100 ? 'progressBar' : 'progressBarNoCross'}\n//                         /></Col>\n//                 </Row>\n//                 {\n//                     currentQuestion.map((question, key) => {\n//                         return (\n//                             <Container className='mainQuestion' key={key}>\n//                                 <Lesson onClick={(i) => this.onClick(i)}\n//                                     question={question.Question}\n//                                     options={question.Options}\n//                                     correct={this.state.currentCorrectAnswer}\n//                                     status={this.state.status}\n//                                     optionClicked={this.state.optionClicked}\n//                                     Continue={this.state.Continue}\n//                                 />\n//                             </Container>\n//                         )\n//                     })\n//                 }\n//                 <CheckCorrect className='mainCheckCorrect'\n//                     onClick={this.handleCheckClick()}\n//                     onContinueClick={this.handleContinueClick()}\n//                     varient={this.state.varient}\n//                     status={this.state.status}\n//                     Continue={this.state.Continue}\n//                     optionClicked={this.state.optionClicked}\n//                 />\n//             </div>\n//         )\n//     }\n// }\n\n_s(LessonLayout, \"wDma6Ma5+iub6LThwtYxBNYWbFg=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = LessonLayout;\n\nvar _c;\n\n$RefreshReg$(_c, \"LessonLayout\");","map":{"version":3,"sources":["/home/fateme/Documents/projects/yadet2/src/layout/lessonLayout/lessonLayout.js"],"names":["React","useState","useEffect","axios","Container","ProgressBar","Col","Row","CheckCorrect","Lesson","BrowserRouter","Router","Link","useHistory","useParams","cross","getDefaultNormalizer","LessonLayout","props","step","questions","Question","Options","Answer","Tip","id","q","setQ","i","length","question","text","options","anwser","tip","initialQuestionQueue","progress","setProgress","varient","setVarient","userAnswer","setUserAnswer","correctAnswer","setCorrectAnswer","status","setStatus","Continue","setContinue","questionCounter","setQuestionCounter","optionClicked","setOptionClicked","questionQueue","setQuestionQueue","loading","setLoading","progressProgress","history","handleCheckClick","handleContinueClick","push","handleCrossClick","onClick","currentQuestion","slice","currentCorrectAnswer","map","console","log","getQuestions","url","res","get","data","width","justifyContent","alignItems","key"],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;GArXwBjC,Y;UAEHH,S,EA6DDD,U;;;KA/DII,Y","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { Container, ProgressBar, Col, Row } from \"react-bootstrap\";\nimport CheckCorrect from \"../../components/checkCorrect/checkCorrect\";\nimport Lesson from \"../../pages/lesson/lesson\";\nimport {\n    BrowserRouter as Router, Link, useHistory\n} from 'react-router-dom';\nimport { useParams } from 'react-router-dom';\nimport cross from './../../assets/images/cross.png';\nimport './lessonLayout.css';\nimport { getDefaultNormalizer } from \"@testing-library/dom\";\n\nexport default function LessonLayout(props) {\n    //questions should be asked from data base. step is for the lesson and the degree and the progress \n    const { step } = useParams();\n\n    const questions = [\n        {\n            Question: 'this is the first question',\n            Options: ['option1', 'option2', 'option3', 'option4'],\n            Answer: 1,\n            Tip: '1 here`s why you answered wrong',\n            id: 1,\n        },\n        {\n            Question: 'this is the second question',\n            Options: ['option1', 'option2', 'option3', 'option4'],\n            Answer: 2,\n            Tip: '2 here`s why you answered wrong',\n            id: 2,\n        },\n        {\n            Question: 'this is the third question',\n            Options: ['option1', 'option2', 'option3', 'option4'],\n            Answer: 3,\n            Tip: '3 here`s why you answered wrong',\n            id: 3,\n        }\n    ]\n\n    const [q, setQ] = useState([]);\n\n\n\n    for (let i = 0; i < q.length; i++) {\n        let question = {\n            Question: q[i].text,\n            Options: q[i].options,\n            Answer: q[i].anwser,\n            Tip: q[i].tip,\n        }\n        questions[i] = question;\n    }\n\n\n\n    let initialQuestionQueue = [];\n    for (let i = 0; i < questions.length; i++) {\n        initialQuestionQueue[i] = i\n    }\n\n\n\n    const [progress, setProgress] = useState(0);\n    const [varient, setVarient] = useState(\"secondary\");\n    const [userAnswer, setUserAnswer] = useState(0);\n    const [correctAnswer, setCorrectAnswer] = useState(0);\n    const [status, setStatus] = useState(\"check\");\n    const [Continue, setContinue] = useState(false);\n    const [questionCounter, setQuestionCounter] = useState(0);\n    const [optionClicked, setOptionClicked] = useState(0);\n    const [questionQueue, setQuestionQueue] = useState(0);\n    const [loading, setLoading] = useState(0)\n\n    const progressProgress = 100 / questions.length;\n    const history = useHistory()\n\n    const handleCheckClick = () => {\n        setContinue(true)\n        setVarient(() => (\n            userAnswer === 1 ? \"success\" :\n                (userAnswer === -1 ? \"danger\" :\n                    (\"secondary\"))\n        ))\n        setStatus(() => (\n            userAnswer === 1 ? \"success\" :\n                (userAnswer === -1 ? \"fail\" : null)\n        ))\n        setProgress(progress + (userAnswer === 1 ? progressProgress : 0));\n\n        if (optionClicked !== correctAnswer) {\n            setQuestionQueue([...questionQueue, questionQueue[questionCounter]]);\n        }\n    }\n    const handleContinueClick = () => {\n        setContinue(false)\n        setOptionClicked(0)\n        setQuestionCounter(() => (\n            questionCounter + 1 < questionQueue.length ? questionCounter + 1 :\n                (progress === 100 ?\n                    history.push('/endLessonStep/' + step)\n                    : null)\n\n        ))\n        setVarient(\"secondary\")\n        setStatus(\"check\")\n    }\n    const handleCrossClick = () => {\n        history.push('/')\n    }\n    const onClick = (i) => {\n        setOptionClicked(i)\n        setVarient(\"primary\")\n        if (i === correctAnswer) {\n            setUserAnswer(1)\n        } else {\n            setUserAnswer(-1);\n        }\n    }\n\n\n    const currentQuestion =\n        questions.slice(questionQueue[questionCounter], questionQueue[questionCounter] + 1)\n    let currentCorrectAnswer = 0;\n    currentQuestion.map((question) => {\n        // console.log(\"@@@@@@@@2: \"+question.answer)\n        currentCorrectAnswer = question.Answer;\n        console.log('question.answer: ' + currentCorrectAnswer)\n    })\n\n    const getQuestions = async () => {\n        let url = 'http://localhost:1337/courses';\n        if (step) {\n            url += `/${step}`;\n        }\n        setLoading(true);\n        const res = await axios.get(url);\n        let { questions } = res.data.questions;\n        setLoading(false);\n        setQ(questions);\n    };\n\n    useEffect(() => {\n        getQuestions()\n        setQuestionQueue(initialQuestionQueue)\n        setCorrectAnswer(currentCorrectAnswer);\n    }, []);\n\n\n    return (\n        <div className='mainLesson'>\n            <Row\n                className='mainProgressBar'\n            >\n                {progress !== 100 ?\n                    <Col sm={1} xs={1}\n                        className='crossCol'\n                    >\n                        <img style={{ width: 20 }} src={cross} alt=\"cross\"\n                            onClick={handleCrossClick} />\n                    </Col> :\n                    ''}\n                <Col sm={progress != 100 ? 11 : 12} xs={progress != 100 ? 11 : 12}\n                    style={{ justifyContent: 'center', alignItems: 'center' }}\n                >\n                    <ProgressBar now={progress}\n                        className={progress !== 100 ? 'progressBar' : 'progressBarNoCross'}\n                    /></Col>\n            </Row>\n            {\n                currentQuestion.map((question, key) => {\n                    return (\n                        <Container className='mainQuestion' key={key}>\n                            <Lesson onClick={(i) => onClick(i)}\n                                question={question.Question}\n                                options={question.Options}\n                                correct={currentCorrectAnswer}\n                                status={status}\n                                optionClicked={optionClicked}\n                                Continue={Continue}\n                            />\n                        </Container>\n                    )\n                })\n            }\n            <CheckCorrect className='mainCheckCorrect'\n                onClick={handleCheckClick}\n                onContinueClick={handleContinueClick}\n                varient={varient}\n                status={status}\n                Continue={Continue}\n                optionClicked={optionClicked}\n            />\n        </div>\n    )\n}\n// import React from \"react\";\n// import { Container, ProgressBar, Col, Row } from \"react-bootstrap\";\n// import CheckCorrect from \"../../components/checkCorrect/checkCorrect\";\n// import Lesson from \"../../pages/lesson/lesson\";\n// import cross from './../../assets/images/cross.png';\n// import './lessonLayout.css';\n\n\n\n// export default class LessonLayout extends React.Component {\n//     //questions should be asked from data base. step is for the lesson and the degree and the progress \n//     constructor(props) {\n//         super(props);\n//         this.state = {\n//             progress: 0,\n//             varient: 'secondary',\n//             userAnswer: 0,\n//             correctAnswer: 0,\n//             status: 'check',\n//             Continue: false,\n//             questionCounter: 0,\n//             optionClicked: 0,\n//             questionQueue: [],\n//             status: 0,\n//             questions: [],\n//             DataisLoaded: false,\n//             step: 0,\n//         }\n//     }\n\n//     componentDidMount() {\n//         const { step } = this.props.match.params;\n//         this.setState({\n//             step: step\n//         })\n\n//         fetch(\n//             \"http://localhost:1337/courses\" + step)\n//             .then((res) => res.json())\n//             .then((json) => {\n//                 this.setState({\n//                     questions: json.questions,\n//                     DataisLoaded: true\n//                 });\n//             });\n\n//         let initialQuestionQueue = [];\n//         for (let i = 0; i < this.state.questions.length; i++) {\n//             initialQuestionQueue[i] = i\n//         }\n//         this.setState({\n//             questionQueue: initialQuestionQueue\n//         })\n//     }\n\n//     handleCheckClick = () => {\n//         const progressProgress = 100 / this.state.questions.length;\n//         this.setState({ continue: true })\n//         this.setState({\n//             varient: this.state.userAnswer === 1 ? \"success\" :\n//                 (this.state.userAnswer === -1 ? \"danger\" :\n//                     (\"secondary\"))\n//         })\n//         this.setState({\n//             status:\n//                 this.state.userAnswer === 1 ? \"success\" :\n//                     (this.state.userAnswer === -1 ? \"fail\" : null)\n//         })\n\n//         this.setState({\n//             progress: this.state.progress + (this.state.userAnswer === 1 ? progressProgress : 0)\n//         })\n\n//         if (this.state.optionClicked !== this.state.correctAnswer) {\n//             this.setState({\n//                 questionQueue:\n//                     [...this.state.questionQueue, this.state.questionQueue[this.state.questionCounter]]\n//             })\n//         }\n//     }\n//     handleContinueClick = () => {\n\n//         this.setState({\n//             continue: false\n//         })\n\n//         this.setState({\n//             optionClicked: 0\n//         })\n\n//         this.setState({\n//             questionCounter:\n//                 this.state.questionCounter + 1 < this.state.questionQueue.length ? this.state.questionCounter + 1 :\n//                     (this.state.progress === 100 ?\n//                         this.props.history.push('/endLessonStep/' + this.state.step)\n//                         : null)\n//         })\n\n//         this.setState({\n//             varient: \"secondary\"\n//         })\n\n//         this.setState({\n//             status: 'check'\n//         })\n//     }\n//     handleCrossClick = () => {\n//         // this.props.history.push('/')\n//     }\n//     onClick = (i) => {\n\n//         this.setState({\n//             optionClicked: i\n//         })\n//         this.setState({\n//             varient: \"primary\"\n//         })\n//         if (i === this.state.correctAnswer) {\n\n//             this.setState({\n//                 userAnswer: 1\n//             })\n//         } else {\n//             this.setState({\n//                 userAnswer: -1\n//             })\n//         }\n//     }\n\n\n//     render() {\n\n//         const currentQuestion =\n//         this.state.questions.slice(this.state.questionQueue[this.state.questionCounter], this.state.questionQueue[this.state.questionCounter] + 1)\n//         let currentCorrectAnswer = 0;\n//         currentQuestion.map((question) => {\n//             currentCorrectAnswer = question.Answer\n//         })\n//         // this.setState({\n//         //     correctAnswer: currentCorrectAnswer\n//         // })\n\n//         return (\n//             <div className='mainLesson'>\n//                 <Row\n//                     className='mainProgressBar'\n//                 >\n//                     {this.state.progress !== 100 ?\n//                         <Col sm={1} xs={1}\n//                             className='crossCol'\n//                         >\n//                             <img style={{ width: 20 }} src={cross} alt=\"cross\"\n//                                 onClick={this.handleCrossClick()} />\n//                         </Col> :\n//                         ''}\n//                     <Col sm={this.state.progress != 100 ? 11 : 12} xs={this.state.progress != 100 ? 11 : 12}\n//                         style={{ justifyContent: 'center', alignItems: 'center' }}\n//                     >\n//                         <ProgressBar now={this.state.progress}\n//                             className={this.state.progress !== 100 ? 'progressBar' : 'progressBarNoCross'}\n//                         /></Col>\n//                 </Row>\n//                 {\n//                     currentQuestion.map((question, key) => {\n//                         return (\n//                             <Container className='mainQuestion' key={key}>\n//                                 <Lesson onClick={(i) => this.onClick(i)}\n//                                     question={question.Question}\n//                                     options={question.Options}\n//                                     correct={this.state.currentCorrectAnswer}\n//                                     status={this.state.status}\n//                                     optionClicked={this.state.optionClicked}\n//                                     Continue={this.state.Continue}\n//                                 />\n//                             </Container>\n//                         )\n//                     })\n//                 }\n//                 <CheckCorrect className='mainCheckCorrect'\n//                     onClick={this.handleCheckClick()}\n//                     onContinueClick={this.handleContinueClick()}\n//                     varient={this.state.varient}\n//                     status={this.state.status}\n//                     Continue={this.state.Continue}\n//                     optionClicked={this.state.optionClicked}\n//                 />\n//             </div>\n//         )\n//     }\n// }"]},"metadata":{},"sourceType":"module"}